---
import { siteConfig } from "../config";
import MobileNav from "./MobileNav.astro";
---

<div
  id="hero"
  class="relative isolate overflow-hidden py-24 md:h-screen transition-colors duration-300 bg-neutral-950"
  style={`--accent-color: ${siteConfig.accentColor}`}
>

  <!-- Interactive Particles -->
  <div class="particles" id="particles"></div>




  
  <div class="h-full mx-auto p-8 sm:p-12 md:p-24 flex items-center">
    <div class="w-full">
      <h1
        class="text-pretty text-4xl sm:text-5xl md:text-6xl lg:text-8xl font-bold tracking-tight text-gray-800 dark:text-white"
      >
        <span style={{ color: siteConfig.accentColor }} class="typing-animation glow" id="typing-text"></span>
      </h1>
      <p
        class="mt-4 sm:mt-6 md:mt-8 text-pretty text-base sm:text-lg md:text-xl/8 font-medium text-gray-600 dark:text-gray-400 animate-fade-in-up animation-delay-400"
      >
        <span class="typing-animation-headline" id="typing-headline"></span>
      </p>
      
      <!-- Desktop Resume Buttons -->
      {
        siteConfig.resume && (
          <div class="hidden md:block mt-6 sm:mt-8 md:mt-10 animate-fade-in-up animation-delay-500 flex gap-4">
            <a
              href={siteConfig.resume}
              target="_blank"
              rel="noopener noreferrer"
              class="inline-block px-6 py-3 text-sm font-semibold text-gray-300 transition-all duration-300 rounded-lg border-2 border-gray-400 hover:border-gray-300 hover:bg-gray-800 transform hover:-translate-y-0.5 btn-animate resume-btn"
              style="min-height: 44px; min-width: 120px; text-decoration: none;"
            >
              <div class="flex items-center justify-center gap-2 h-full">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="flex-shrink-0"
                >
                  <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z" />
                  <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z" />
                </svg>
                <span>View Resume</span>
              </div>
            </a>
            <a
              href={siteConfig.resume}
              download="Ryan_Dielhenn_Resume.pdf"
              target="_blank"
              rel="noopener noreferrer"
              class="inline-block px-6 py-3 text-sm font-semibold text-white transition-all duration-300 rounded-lg shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 btn-animate resume-btn"
              style={`background-color: ${siteConfig.accentColor}; min-height: 44px; min-width: 120px; text-decoration: none;`}
            >
              <div class="flex items-center justify-center gap-2 h-full">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="flex-shrink-0"
                >
                  <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                  <polyline points="7,10 12,15 17,10" />
                  <line x1="12" y1="15" x2="12" y2="3" />
                </svg>
                <span>Download Resume</span>
              </div>
            </a>
          </div>
        )
      }
      
      <!-- Mobile Navigation Buttons -->
      <div class="md:hidden mt-8">
        <MobileNav />
      </div>
    </div>
  </div>
  
  <div
    class="absolute bottom-0 left-0 right-0 p-8 sm:p-12 md:p-24 hidden md:flex gap-x-4 sm:gap-x-6 md:gap-x-8 text-gray-700 dark:text-gray-300 animate-fade-in-up animation-delay-600"
  >
    {
      siteConfig.social?.email && (
        <a
          href={`mailto:${siteConfig.social.email}`}
          class="transition-colors duration-300 hover:text-[var(--accent-color)] animate-float"
          aria-label="Email"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" />
            <polyline points="22,6 12,13 2,6" />
          </svg>
        </a>
      )
    }
    {
      siteConfig.social?.linkedin && (
        <a
          href={siteConfig.social.linkedin}
          target="_blank"
          rel="noopener noreferrer"
          class="transition-colors duration-300 hover:text-[var(--accent-color)] animate-float animation-delay-100"
          aria-label="LinkedIn"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z" />
            <rect x="2" y="9" width="4" height="12" />
            <circle cx="4" cy="4" r="2" />
          </svg>
        </a>
      )
    }
    {
      siteConfig.social?.github && (
        <a
          href={siteConfig.social.github}
          target="_blank"
          rel="noopener noreferrer"
          class="transition-colors duration-300 hover:text-[var(--accent-color)] animate-float animation-delay-200"
          aria-label="GitHub"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-1.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" />
          </svg>
        </a>
      )
    }
  </div>
</div>

<!-- Floating Action Button -->
<a href="#hero" class="fab" id="back-to-top" aria-label="Back to top">
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"
  >
    <polyline points="18,15 12,9 6,15" />
  </svg>
</a>



<style>
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in {
    animation: fadeIn 0.8s ease-out forwards;
    opacity: 0;
  }

  .animation-delay-200 {
    animation-delay: 0.2s;
  }

  .animation-delay-400 {
    animation-delay: 0.4s;
  }

  .animation-delay-600 {
    animation-delay: 0.6s;
  }

  .animation-delay-500 {
    animation-delay: 0.5s;
  }

  /* Typing animation */
  .typing-animation {
    border-right: 3px solid;
    border-color: var(--accent-color);
    white-space: normal;
    overflow: hidden;
    word-wrap: break-word;
    word-break: break-word;
    animation: blink-caret 0.75s step-end infinite;
  }

  /* Headline typing animation */
  .typing-animation-headline {
    border-right: 2px solid;
    border-color: #6b7280;
    white-space: normal;
    overflow: hidden;
    word-wrap: break-word;
    word-break: break-word;
  }

  /* Mobile-specific word breaking for the headline */
  @media (max-width: 768px) {
    .typing-animation-headline {
      word-break: break-all;
    }
  }

  /* Hide cursor when not typing */
  .typing-animation.no-cursor {
    border-right: none;
  }

  .typing-animation-headline.no-cursor {
    border-right: none;
  }

  @keyframes blink-caret {
    from, to { border-color: transparent; }
    50% { border-color: var(--accent-color); }
  }

  @keyframes blink-caret-headline {
    from, to { border-color: transparent; }
    50% { border-color: #6b7280; }
  }

  /* Show cursor on headline when typing */
  .typing-animation-headline:not(.no-cursor) {
    animation: blink-caret-headline 0.75s step-end infinite;
  }

  /* Ensure resume buttons are fully clickable */
  .resume-btn {
    position: relative;
    z-index: 10;
    cursor: pointer;
    display: inline-block;
    text-decoration: none;
    /* Ensure the entire button area is clickable */
    min-height: 44px;
    min-width: 120px;
    /* Prevent text selection */
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    /* Ensure proper block-level behavior */
    box-sizing: border-box;
  }

  .resume-btn > div {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* Ensure proper touch targets on mobile */
  @media (max-width: 768px) {
    .resume-btn {
      min-height: 48px;
      min-width: 140px;
      padding: 12px 16px;
    }
  }
</style>

<script>
  function typeWriter(element: HTMLElement, text: string, speed: number = 100, onComplete: (() => void) | null = null) {
    let i = 0;
    element.innerHTML = '';
    
    function type() {
      if (i < text.length) {
        const char = text.charAt(i);
        if (char === '\n') {
          element.innerHTML += '<br>';
        } else {
          element.innerHTML += char;
        }
        i++;
        setTimeout(type, speed);
      } else {
        // Remove cursor when typing is complete
        element.classList.add('no-cursor');
        if (onComplete) onComplete();
      }
    }
    
    type();
  }






