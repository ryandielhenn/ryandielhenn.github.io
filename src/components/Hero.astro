---
import { siteConfig } from "../config";
import MobileNav from "./MobileNav.astro";
---

<div
  id="hero"
  class="relative isolate overflow-hidden h-screen transition-colors duration-300 bg-neutral-950"
  style={`--accent-color: ${siteConfig.accentColor}`}
>

  <!-- Interactive Particles -->
  <div class="particles" id="particles"></div>




  
  <div class="h-full mx-auto p-4 sm:p-6 md:p-8 flex flex-col justify-center">
    <div class="w-full h-full flex flex-col">
      <!-- Terminal Navigation -->
      <div class="flex-1 flex flex-col justify-center">
        <MobileNav />
      </div>
    </div>
  </div>
  
</div>

<!-- Floating Action Button -->
<a href="#hero" class="fab" id="back-to-top" aria-label="Back to top">
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"
  >
    <polyline points="18,15 12,9 6,15" />
  </svg>
</a>



<style>
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in {
    animation: fadeIn 0.8s ease-out forwards;
    opacity: 0;
  }

  .animation-delay-200 {
    animation-delay: 0.2s;
  }

  .animation-delay-400 {
    animation-delay: 0.4s;
  }

  .animation-delay-600 {
    animation-delay: 0.6s;
  }

  .animation-delay-500 {
    animation-delay: 0.5s;
  }

  /* Typing animation */
  .typing-animation {
    border-right: 3px solid;
    border-color: var(--accent-color);
    white-space: normal;
    overflow: hidden;
    word-wrap: break-word;
    word-break: break-word;
    animation: blink-caret 0.75s step-end infinite;
  }

  /* Headline typing animation */
  .typing-animation-headline {
    border-right: 2px solid;
    border-color: #6b7280;
    white-space: normal;
    overflow: hidden;
    word-wrap: break-word;
    word-break: break-word;
  }

  /* Mobile-specific word breaking for the headline */
  @media (max-width: 768px) {
    .typing-animation-headline {
      word-break: break-all;
    }
  }

  /* Hide cursor when not typing */
  .typing-animation.no-cursor {
    border-right: none;
  }

  .typing-animation-headline.no-cursor {
    border-right: none;
  }

  @keyframes blink-caret {
    from, to { border-color: transparent; }
    50% { border-color: var(--accent-color); }
  }

  @keyframes blink-caret-headline {
    from, to { border-color: transparent; }
    50% { border-color: #6b7280; }
  }

  /* Show cursor on headline when typing */
  .typing-animation-headline:not(.no-cursor) {
    animation: blink-caret-headline 0.75s step-end infinite;
  }

  /* Ensure resume buttons are fully clickable */
  .resume-btn {
    position: relative;
    z-index: 10;
    cursor: pointer;
    display: inline-block;
    text-decoration: none;
    /* Ensure the entire button area is clickable */
    min-height: 44px;
    min-width: 120px;
    /* Prevent text selection */
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    /* Ensure proper block-level behavior */
    box-sizing: border-box;
  }

  .resume-btn > div {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* Ensure proper touch targets on mobile */
  @media (max-width: 768px) {
    .resume-btn {
      min-height: 48px;
      min-width: 140px;
      padding: 12px 16px;
    }
  }
</style>

<script>
  function typeWriter(element: HTMLElement, text: string, speed: number = 100, onComplete: (() => void) | null = null) {
    let i = 0;
    element.innerHTML = '';
    
    function type() {
      if (i < text.length) {
        const char = text.charAt(i);
        if (char === '\n') {
          element.innerHTML += '<br>';
        } else {
          element.innerHTML += char;
        }
        i++;
        setTimeout(type, speed);
      } else {
        // Remove cursor when typing is complete
        element.classList.add('no-cursor');
        if (onComplete) onComplete();
      }
    }
    
    type();
  }






